#!/bin/bash

function usage () {
usageMessage="
-----------------------------------------------------------------------------------------------------------------------
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
-----------------------------------------------------------------------------------------------------------------------
AUTHOR:       Levon Becker
PURPOSE:      Display Chef Node Information.
VERSION:      1.0.1 (07/15/2016)
DESCRIPTION:  This is updated every time chef client completes successfully with OHAI data. It is intended to quickly
              display basic Chef information about the node instance.
-----------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------
EXAMPLES
-----------------------------------------------------------------------------------------------------------------------
$0
-----------------------------------------------------------------------------------------------------------------------
"
    echo "$usageMessage";
}

while getopts "h" opts; do
    case $opts in
        h ) usage; exit 0;;
    esac
done


echo -e "\n---------------------------------------------------------------"
echo "Node Information"
echo "---------------------------------------------------------------"
<% node['bonusbits_base']['nodeinfo_script']['content'].each do |content| %>
echo "<%= content %>"
<% end %>
echo "---------------------------------------------------------------"
